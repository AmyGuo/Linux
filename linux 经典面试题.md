 ### linux经典面试题

> 网络相关：

1. 简述iso/osi的七层模型和每一层的作用

   应用层--表示层--会话层--传输层--网络层--数据链路层--物理层

   应用层：为用户提供服务，给用户一个操作界面

   表示层：数据提供表示，加密，压缩

   会话层：确定数据是否需要进行网络传递

   传输层：1. 对报名进行分组（发送时）、组装（接收时） 2. 提供传输协议的选择（tcp-传输控制协议-可靠的面向连接的传输协议-可靠准确但是慢,udp-用户数据报协议-不可靠的面向无连接的传输协议-快但不可靠）3. 端口封装 4. 差错校验

   网络层 ：1. IP地址编址 2. 路由选择（静态路由，动态路由）

   数据链路层：1. mac地址编址  2. mac地址寻址 3. 差错校验

   物理层：1. 数据实际的传输 2. 电气特性定义

2. tpc/ip五层模型和作用，tcp协议和udp协议工作在哪一层，作用是什么

   应用层--传输层--网络层--数据链路层--网络层，tcp，udp工作在传输层。

   应用层：HTTP,FTP,SMTP,SNMP,DNS
   传输层：TCP，UDP

   网络层：ICMP，IP，IGMP，ARP，RARP

3. 简述tcp三次握手的过程

   第一次握手：client将标志位SYN设置为1，随机产生一个值为seq=J,并将该数据发送给Server，client进入SYN_SENT状态，等待server确认

   第二次握手：server收到数据包后由SYN=1知道client请求建立连接，server将标志位SYN和ACK都置为1，ack序号J+1,随机产生seq=K,并将该数据发送给client以确认连接请求，server进入SYN_RCVD状态

   第三次握手：client收到确认后，检查ack序号是否为J+1，标志位ACK是否为1，如果正确则将标志位ACK置为1，ack序号=K+1,并将该数据包发送给server，server检查acl序号是否为K+1,ACK是否为1，如果正确则建立连接成功，client和server进入established状态，完成三次握手。随后两者之间可以开始传输数据了。
   
4. 简述四次挥手的过程

   第一次挥手：client发送一个标志为FIN包，seq序号为m,用来关闭client到server的数据传送，client进入FIN_WAIT1状态

   第二次挥手：server收到标志为FIN包之后，发送一个标志为ACK给client，ack确认序号为m+1，server进入CLOSE_WAIT状态

   第三次挥手：server发送标志为FIN=1，ACK=1，seq序号=n,ack确认好为m+1,用来关闭server到client的数据传送，server进入LAST_ACK状态

   第四次挥手：client收到FIN后，client进入TIME_WAIT状态，接着发送一个ACK标志给server，ack确认序号=n+1,server进入CLOSED状态，完成四次挥手。

5. 172.22.14.231/26，该ip位于那个网段，该网段拥有多少个可用IP地址，广播地址是什么？

   172.22.141.92--172.22.14.255

   可用ip:2^6-2

   广播地址:172.22.141.255 

6. ip地址的分类

   A类：0开头：1.0.0.0--126.255.255.255（127.0.0.1 回环ip）

   B类：10开头：128.0.0.0--191.255.255.255

   C类：110开头：192.0.0.0--223.255.255.255

   D类：1110开头：224.0.0.0--239.255.255.255(组播)

   E类：1111开头：240.0.0.0--255.255.255.255（保留）

   私有ip地址：(公司学校使用)

   A:10.0.0.0--10.255.255.255

   B:172.16.0.0--172.31.255.255

   C:192.168.0.0--192.168.255.255

   

> linux 权限相关

1. 简述linux权限划分原则

   注意权限分离（linux系统权限，数据库权限不要掌握在同意部门）

   权限在满足使用情况下，最小优先

   减少使用root用户，尽量使用普通用户+sudo提权进行日常操作

   重要系统文件，如/etc/passed /etc/shadow /etc/fstab /etc/sudoers等日常建议使用chattr锁定，需要操作时再打开

   使用脚本检测系统中新增的SUID、SGID文件

   开启ssh服务密钥对登录，修改ssh使用端口

> 备份策略

1. 如果一个系统没有任何的备份策略，请写出一个较为全面合理的备份方案

   备份策略：

   完整备份：cp,tar,dump,xfsdump

   增量备份：每次备份以前一次备份作为参照 dump,xfsdump

   差异备份：每次备份以第一次备份作为参照dump,xfsdump

   备份频率：

   实时备份：如MySQL主从同步

   定时备份：脚本+定时任务实现

   备份存储位置：本地备份，异地备份（不要把鸡蛋放在同一篮子中）

   常见服务器的备份方案：

   每日备份的数据（异地备份）：mysql数据库，主从备份之外，增量备份一次

   每周备份的数据（异地备份）：MySQL数据库（完整备份）；重要系统数据；网页数据；其他服务相关数据；日志等

2. 网站服务器每天产生的日志数量较大，请问如何备份？

   日志的切割和轮替（系统日志管理工具--logrotate）

> Raid

1. 简述Raid0,Raid1,Raid5的特点和原理

   raid0(独立磁盘冗余阵列):必须使用两块及两块以上的硬盘组成；每块硬盘的大小必须一致；时所有动态磁盘中，数据读写最快的；损坏纪律相对最高；没有磁盘容错功能；

   raid1:由两块或者2的倍数硬盘组成；每块硬盘大小必须一致；硬盘使用率只有50%，写入速度最慢；拥有磁盘容错功能；

   raid5:由三块或以上硬盘组成；每块硬盘大小必须一致；磁盘利用率时n-1块盘；利用奇偶校验，拥有磁盘容错功能（只支持1块硬盘损坏）

   

